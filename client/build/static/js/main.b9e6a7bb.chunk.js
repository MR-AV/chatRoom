(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},130:function(e,t){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},200:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(72),s=a.n(c),l=a(21);a(100);function m(){return r.a.createElement("div",{className:"error-page"},r.a.createElement("h1",{className:"error-heading"},"404 Error"),r.a.createElement("p",{className:"error-body"},"Page not found"),r.a.createElement(l.A,{href:"/"},"Redirect to main page"))}var o,u=a(5),i=a(82),E=a(73),f=a.n(E),v=(a(133),function(e){var t=e.roomName,a=e.userCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"room-name"},t),r.a.createElement("p",{className:"user-count"},"Users: ",a))}),d=(a(134),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage;return r.a.createElement("form",{onSubmit:n,className:"msg-field"},r.a.createElement("input",{className:"input-msg-field",value:t,onChange:function(e){return a(e.target.value)}}),r.a.createElement("button",{className:"send-btn",type:"submit"},"Send Message"))}),g=(a(135),a(37)),b=a.n(g),p=function(e){var t=e.user,a=e.name,n=a.trim().toLowerCase();return console.log("name = ",a,"user.user.name",t.user),n===t.user?r.a.createElement("div",{className:"chatBox justify-end"},r.a.createElement("div",{className:"text"},r.a.createElement("p",{className:"username"},t.user),r.a.createElement("p",{className:"usertext"},b.a.emojify(t.text)))):r.a.createElement("div",{className:"chatBox justify-start "},r.a.createElement("div",{className:"text"},r.a.createElement("p",{className:"username"},t.user),r.a.createElement("p",{className:"usertext"},b.a.emojify(t.text))))},N=a(74),h=a.n(N),y=a(15),j=Object(y.css)({margin:"10px",height:"70vh"}),O=function(e){var t=e.messages,a=e.name;return r.a.createElement(h.a,{className:j},t.map((function(e,t){return r.a.createElement(p,{key:t,user:e,name:a})})))},x=function(e){var t=e.userName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t))},B=(a(182),function(e){var t=e.userPresent.users;return console.log(t),r.a.createElement("div",{className:"user-display"},t?t.map((function(e,t){return r.a.createElement(x,{key:t,userName:e.userName})})):null)});a(183);var S=function(e){var t=e.name,a=e.username;console.log(t,a);var c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],m=s[1],E=Object(n.useState)([]),g=Object(u.a)(E,2),b=g[0],p=g[1],N=Object(n.useState)({users:[]}),h=Object(u.a)(N,2),y=h[0],j=h[1];return Object(n.useEffect)((function(){return o=f()("localhost:5000"),console.log("inside nameeffect ",t),o.emit("join",{name:t,username:a},(function(e){e&&alert(e)})),function(){console.log("unmounting!!"),o.emit("disconnect"),o.close()}}),["localhost:5000",t,a]),Object(n.useEffect)((function(){o.on("message",(function(e){p((function(t){return[].concat(Object(i.a)(t),[e])}))})),o.on("roomData",(function(e){console.log("Users  ",e),j(e)}))}),[]),console.log("messages = ",b),r.a.createElement("div",{className:"chat-screen"},r.a.createElement("div",{className:"room-info"},r.a.createElement(v,{roomName:t,userCount:y.users.length||0})),r.a.createElement("div",{className:"chat-box"},r.a.createElement(O,{messages:b,name:a}),r.a.createElement("div",{className:"input-msg"},r.a.createElement(d,{message:l,setMessage:m,sendMessage:function(e){e.preventDefault(),l&&o.emit("sendMessage",l,(function(){return m("")}))}}))),r.a.createElement(B,{userPresent:y}),r.a.createElement("div",{className:"footer"},"copyright \xa9 2020"))},C=a(75),U=a.n(C);var R=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e.error," "))};a(200);var k=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)([!1,""]),m=Object(u.a)(l,2),o=m[0],i=m[1];function E(e){return/^\w*$/.test(e)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),!o[0]&&E(c)&&U.a.get("/isUserPresent/"+e.name+"/"+c).then((function(t){t.data.isUserPresent?i([!0,"Username already present"]):e.setUsername(c)}))}},r.a.createElement("h1",null,e.name),r.a.createElement("input",{className:"username-input",onChange:function(e){var t=e.target.value;s(t),!1===E(t)?i([!0,'Name should only have alphabets, numbers and "_"']):i([!1,""])},placeholder:"Enter Your Name",value:c,style:o[0]?{boxShadow:"0 0 3px red"}:{}}),r.a.createElement("button",{type:"submit"},"JOIN ROOM"),o[0]&&r.a.createElement(R,{error:o[1]})))},I=function(e){var t=e.name,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],l=c[1];return""===s?r.a.createElement(k,{name:t,setUsername:l}):r.a.createElement(S,{name:t,username:s})},M=a(219),P=a(218),w=a(24),F=a.n(w),D=function(e){var t=e.setRoomName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement(M.a.Header,null,"Available Rooms"),r.a.createElement(P.a,{variant:"flush"},r.a.createElement(P.a.Item,null,r.a.createElement("button",{onClick:function(){t("Boycott China")}}," ",r.a.createElement(F.a,{color:"primary"}))," Boycott China "),r.a.createElement(P.a.Item,null,r.a.createElement("button",{onClick:function(){t("Boycott PUBG")}}," ",r.a.createElement(F.a,{color:"primary"}))," Boycott PUBG"),r.a.createElement(P.a.Item,null,r.a.createElement("button",{onClick:function(){t("Boycott Rava Idli")}}," ",r.a.createElement(F.a,{color:"primary"}))," Boycott Rava Idli"))))},J=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1];return a?r.a.createElement(I,{name:a}):r.a.createElement(D,{setRoomName:c})},A={"/":function(){return r.a.createElement(J,null)}};function G(){return Object(l.useRoutes)(A)||r.a.createElement(m,null)}s.a.render(r.a.createElement(G,null),document.getElementById("root"))},85:function(e,t,a){e.exports=a(206)}},[[85,1,2]]]);
//# sourceMappingURL=main.b9e6a7bb.chunk.js.map