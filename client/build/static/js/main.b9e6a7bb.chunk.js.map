{"version":3,"sources":["Components/ErrorPage/Error.jsx","Components/Chat/Chat.jsx","Components/Chat/RoomInfo/RoomInfo.jsx","Components/Chat/SendMessage/SendMessage.jsx","Components/Chat/Message/Message.jsx","Components/Chat/Message/DisplayMessages.jsx","Components/Chat/UserPresent/UsersDisplay.jsx","Components/Chat/UserPresent/UserPresent.jsx","Components/JoinRoom/NameError.jsx","Components/JoinRoom/Join.jsx","Components/RoomSelect/Room.jsx","Components/AvailableRooms/ListGroup.jsx","Components/MainPage.jsx","App.jsx","index.js"],"names":["HTML404","className","href","socket","RoomInfo","roomName","userCount","SendMessage","message","setMessage","sendMessage","onSubmit","value","onChange","event","target","type","Message","user","name","currentUser","trim","toLowerCase","console","log","ReactEmoji","emojify","text","ROOT_CSS","css","margin","height","DisplayMessages","messages","map","id","key","UsersDisplay","userName","UserPresent","users","userPresent","Chat","username","useState","setMessages","setUsers","useEffect","io","emit","error","alert","close","on","prev","length","preventDefault","NameError","props","Join","setName","err","setErr","checkUsername","test","axios","get","then","response","data","isUserPresent","setUsername","placeholder","style","boxShadow","Room","List","setRoomName","Card","width","Header","ListGroup","variant","Item","onClick","color","MainPage","routes","App","useRoutes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b9e6a7bb.chunk.js","sourcesContent":["import React from 'react';\r\nimport './style.css';\r\nimport { A } from 'hookrouter';\r\n\r\nfunction HTML404() {\r\n    return (\r\n        <div className=\"error-page\">\r\n            <h1 className=\"error-heading\">404 Error</h1>\r\n            <p className=\"error-body\">Page not found</p>\r\n            <A href='/'>Redirect to main page</A>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { HTML404 };","import React ,{useState, useEffect} from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport RoomInfo from \"./RoomInfo/RoomInfo\";\r\nimport SendMessage from \"./SendMessage/SendMessage\";\r\nimport DisplayMessages from \"./Message/DisplayMessages\";\r\nimport UserPresent from \"./UserPresent/UserPresent\";\r\nimport './style.css';\r\n\r\nlet socket;\r\n\r\nfunction Chat({name:roomName, username:userName}){\r\n    \r\n    console.log(roomName, userName);\r\n\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const[users, setUsers] = useState({users:[]});\r\n\r\n    const ENDPOINT = \"localhost:5000\";\r\n    useEffect(() => {\r\n\r\n        socket = io(ENDPOINT);\r\n        console.log(\"inside nameeffect \", roomName);\r\n\r\n        socket.emit('join', {name: roomName, username: userName}, (error) => {\r\n            if(error){\r\n                alert(error);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            console.log(\"unmounting!!\");\r\n            socket.emit('disconnect');\r\n            socket.close();\r\n        }\r\n    } ,[ENDPOINT, roomName, userName]);\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n             setMessages(prev => [...prev, message]);\r\n        });\r\n        socket.on('roomData', (message) => {\r\n            console.log('Users  ', message);\r\n            setUsers(message);\r\n        });\r\n    }, []);\r\n  \r\n    function sendMessage(event){\r\n        event.preventDefault();\r\n\r\n        if(message){\r\n            socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n    }\r\n\r\n       console.log( \"messages = \", messages);\r\n        \r\n    return (\r\n        <div className = \"chat-screen\">\r\n            <div className=\"room-info\">\r\n                <RoomInfo roomName={roomName} userCount={ users.users.length || 0 }/>\r\n            </div>    \r\n            <div className=\"chat-box\">\r\n                <DisplayMessages messages={messages} name={userName} />\r\n                <div className=\"input-msg\"><SendMessage message={message} setMessage={setMessage} sendMessage={sendMessage} /></div>    \r\n            </div> \r\n                <UserPresent userPresent = {users} />\r\n            <div className=\"footer\">copyright &copy; 2020</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat; ","import React from \"react\";\r\nimport './style.css';\r\n\r\nconst RoomInfo = ({roomName, userCount}) => {\r\n\r\n    return (\r\n        <>\r\n            <p className=\"room-name\" >{roomName}</p>\r\n            <p className=\"user-count\" >Users: {userCount}</p>\r\n        </>\r\n\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default RoomInfo;","import React from \"react\";\r\nimport './style.css';\r\n\r\nconst SendMessage = ({message, setMessage, sendMessage}) => {\r\n\r\n    return (\r\n        <form onSubmit={sendMessage} className=\"msg-field\">\r\n            <input\r\n                className=\"input-msg-field\"\r\n                value={message}\r\n                onChange={(event) => (setMessage(event.target.value))}\r\n            />\r\n            <button\r\n                className=\"send-btn\"\r\n                type=\"submit\"\r\n            >Send Message</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default SendMessage;","import React from \"react\";\r\nimport \"./style.css\"\r\nimport ReactEmoji from \"react-emoji\";\r\n\r\nconst Message = ({user, name}) => {\r\n\r\n\r\n    const currentUser = name.trim().toLowerCase();\r\n\r\n    console.log(\"name = \", name, \"user.user.name\", user.user);\r\n\r\n    return (\r\n        currentUser === user.user ? (\r\n            <div className=\"chatBox justify-end\">\r\n                <div className=\"text\">\r\n                    <p className=\"username\">{user.user}</p>\r\n                    <p className=\"usertext\">{ReactEmoji.emojify(user.text)}</p>\r\n                </div>\r\n            </div>\r\n        ) : (\r\n                <div className=\"chatBox justify-start \">\r\n                    <div className=\"text\">\r\n                        <p className=\"username\">{user.user}</p>\r\n                        <p className=\"usertext\">{ReactEmoji.emojify(user.text)}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n    );\r\n}\r\n\r\nexport default Message;\r\n\r\n","import React from \"react\";\r\nimport Message from \"./Message\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport { css } from 'glamor';\r\n\r\nconst ROOT_CSS = css({\r\n    margin: '10px',\r\n    height: \"70vh\"\r\n  });\r\n\r\nconst DisplayMessages = ({messages, name}) => {\r\n\r\n    return (\r\n        <ScrollToBottom className = {ROOT_CSS}>\r\n           { messages.map((user, id) => <Message key = {id} user = {user} name = {name}/>) }\r\n        </ScrollToBottom>\r\n    )\r\n\r\n}\r\n\r\nexport default DisplayMessages;","import React from \"react\";\r\n\r\n\r\n\r\nconst UsersDisplay = ({userName}) => {\r\n\r\n    return(\r\n            <>\r\n                <h1>{userName}</h1>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default UsersDisplay;","import React from \"react\";\r\nimport UsersDisplay from \"./UsersDisplay\";\r\nimport './style.css';\r\n\r\n\r\nconst UserPresent = ({userPresent}) => {\r\n\r\n    const {users} = userPresent;\r\n    console.log(users);\r\n        \r\n    return(\r\n            <div className=\"user-display\">\r\n                {users ? \r\n                 users.map((user, id) => <UsersDisplay key = {id} userName = {user.userName}/>\r\n                 )\r\n                 :\r\n                 null\r\n                 } \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default UserPresent;","import React from 'react';\r\n\r\nfunction NameError(props) {\r\n    return (\r\n        <div>\r\n            <p>{props.error} </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NameError;","import React,{useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport NameError from './NameError';\r\nimport './style.css';\r\n\r\nconst error = \"userName is Taken\";\r\nfunction Join(props){\r\n    const [name, setName] = useState('');\r\n    const [err, setErr] = useState([false, \"\"]);\r\n\r\n    function checkUsername(name) {\r\n        return /^\\w*$/.test(name);\r\n    }\r\n\r\n    function handleUsernameChange(event) {\r\n        let username = event.target.value;\r\n        setName(username);\r\n        if (checkUsername(username) === false)\r\n            setErr([true, 'Name should only have alphabets, numbers and \"_\"']);\r\n        else\r\n            setErr([false, '']);\r\n    }\r\n    \r\n    function handleChange(event){\r\n        event.preventDefault();\r\n        if(!err[0] && checkUsername(name)){\r\n            axios.get('/isUserPresent/' + props.name + \"/\" + name).then(response => {\r\n                if (!response.data.isUserPresent)\r\n                    props.setUsername(name);\r\n                else {\r\n                    setErr([true,'Username already present']);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <form onSubmit={handleChange}>\r\n                <h1>{props.name}</h1>\r\n                <input\r\n                    className=\"username-input\"\r\n                    onChange={handleUsernameChange}\r\n                    placeholder=\"Enter Your Name\"\r\n                    value={name}\r\n                    style={err[0] ? { boxShadow:\"0 0 3px red\" }:{}}\r\n                />\r\n                <button type=\"submit\" >JOIN ROOM</button>\r\n                {err[0] && <NameError error={err[1]}/>}\r\n            </form> \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Join;","import React,{useState} from \"react\";\r\nimport Chat from \"../Chat/Chat\";\r\nimport Join from \"../JoinRoom/Join\";\r\n\r\nconst Room = ({name}) => {\r\n\r\n    const [username, setUsername] = useState('');\r\n\r\n\r\n    return (\r\n\r\n        username === \"\" ? <Join name = {name} setUsername = {setUsername} />\r\n        : <Chat name ={name} username = {username} />\r\n    \r\n    )\r\n}\r\n\r\nexport default Room;","import React from \"react\";\r\nimport {Card, ListGroup} from \"react-bootstrap\";\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\n\r\nconst List = ({setRoomName}) => {\r\n\r\n  return (\r\n    <>\r\n\r\n    <Card style={{ width: '18rem' }}>\r\n    <Card.Header>Available Rooms</Card.Header>\r\n      <ListGroup variant=\"flush\">\r\n        <ListGroup.Item><button onClick = {() => {setRoomName('Boycott China')}}> <ArrowForwardIosIcon color=\"primary\"/></button> Boycott China </ListGroup.Item>\r\n        <ListGroup.Item><button onClick = {() => {setRoomName('Boycott PUBG')}}> <ArrowForwardIosIcon color=\"primary\"/></button> Boycott PUBG</ListGroup.Item>\r\n        <ListGroup.Item><button onClick = {() => {setRoomName('Boycott Rava Idli')}}> <ArrowForwardIosIcon color=\"primary\"/></button> Boycott Rava Idli</ListGroup.Item>\r\n      </ListGroup>\r\n    </Card>\r\n    \r\n  </>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default List;\r\n","import React,{useState} from \"react\";\r\nimport Room from \"./RoomSelect/Room\";\r\nimport List from \"./AvailableRooms/ListGroup\";\r\n\r\nconst MainPage = () => {\r\n\r\n    const [roomName, setRoomName] = useState(null);\r\n\r\n    return (\r\n        roomName ? <Room name={roomName} /> : <List setRoomName={setRoomName} />\r\n    );\r\n}\r\n\r\nexport default MainPage;","import React from \"react\";\r\nimport {useRoutes} from \"hookrouter\";\r\nimport { HTML404 } from './Components/ErrorPage/Error';\r\nimport MainPage from \"./Components/MainPage\";\r\nconst routes = {\r\n    '/' : () => <MainPage />,\r\n}\r\nexport default function App(){\r\n\r\n    const message = useRoutes(routes);\r\n\r\n    return (\r\n        message || <HTML404 />\r\n    )\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n  \r\n  <App /> \r\n  ,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}